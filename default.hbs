<!DOCTYPE html>
<html lang="{{@site.locale}}">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{meta_title}}</title>
    <link rel="stylesheet" href="{{asset "css/screen.css"}}" />

    <script>
        if (localStorage.getItem('theme') === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
        }
    </script>

    {{ghost_head}}
</head>

<body class="{{body_class}}">

    <div class="viewport">
        <header class="site-head">
            <div class="logo-area">
                <div class="header-green-box"></div>
                <a href="{{@site.url}}" class="site-title">{{@site.title}}</a>
            </div>

            <div class="header-actions">
                <a href="{{@site.url}}/connect" class="header-btn">[CONNECT]</a>
                <button id="theme-toggle" class="header-btn">[LIGHT]</button>

                {{!-- REMOVED: Login and Account buttons --}}

                <a class="rss-icon" href="{{@site.url}}/rss/" target="_blank" rel="noopener">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 3.09 17.82a2.18 2.18 0 0 1 3.09-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1Z" />
                    </svg>
                </a>
            </div>
        </header>

        <main>
            {{{body}}}
        </main>
    </div>

    {{ghost_foot}}

    <script>
        const toggleBtn = document.getElementById('theme-toggle');
        const html = document.documentElement;

        function updateText() {
            if (html.getAttribute('data-theme') === 'dark') {
                toggleBtn.innerText = "[DARK]";
            } else {
                toggleBtn.innerText = "[LIGHT]";
            }
        }

        // Run on load
        updateText();
        
        toggleBtn.addEventListener('click', () => {
            if (html.getAttribute('data-theme') === 'dark') {
                html.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
            } else {
                html.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            }
            updateText();
        });
    </script>

</body>
</html>